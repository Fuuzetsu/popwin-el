{"note":"Don't delete this file! It's used internally to help with page regeneration.","tagline":"Popup Window Manager for Emacs","name":"popwin.el","body":"popwin.el\r\n=========\r\n\r\nOverview\r\n--------\r\n\r\npopwin is a popup window manager for Emacs which makes you free from\r\nthe hell of annoying buffers such like `*Help*`, `*Completions*`,\r\n`*compilation*`, and etc.\r\n\r\nTake an example. When you complete file names during `find-file`, the\r\n(annoying) `*Completions*` buffer will appear in a newly splitted\r\nwindow. You might understand the necessity of the window, but you may\r\nwonder why the window still remains after completion...\r\n\r\npopwin resolves there problems. Windows of such temporary buffers will\r\nbe shown as a popup window, and you can close them smoothly by typing\r\n`C-g` in anytime.\r\n\r\nScreenshots\r\n-----------\r\n\r\n**Before Popup Window**\r\n\r\n![](http://cx4a.org/software/popwin/popwin1.png)\r\n\r\n**After Popup Window**\r\n\r\n![](http://cx4a.org/software/popwin/popwin2.png)\r\n\r\nInstallation\r\n------------\r\n\r\nInstall `popwin.el` into your `load-path` directory. If you have\r\n`install-elisp` or `auto-install`, you may install `popwin.el` like:\r\n\r\n    ;; install-elisp\r\n    (install-elisp \"https://raw.github.com/m2ym/popwin-el/master/popwin.el\")\r\n    ;; auto-install\r\n    (auto-install-from-url \"https://raw.github.com/m2ym/popwin-el/master/popwin.el\")\r\n\r\nAnd then add the following code into your `.emacs`:\r\n\r\n    (require 'popwin)\r\n    (setq display-buffer-function 'popwin:display-buffer)\r\n\r\npopwin is tested under GNU Emacs 22 or later.\r\n\r\nBasic Usage\r\n-----------\r\n\r\nSpecial buffers, for example `*Help*`, specified in\r\n`popwin:special-display-config` will be shown in a popup window. You\r\ncan close the popup window by typing `C-g` or selecting other windows.\r\n\r\nBy default, `*Help*`, `*Completions*`, `*compilation*`, and `*Occur*`\r\nbuffers will be shown in a popup window. Try `M-x find-file` and type\r\n`TAB TAB`. You may see a popup window at the bottom of the frame.\r\n\r\n**File Name Completion**\r\n\r\n![](http://cx4a.org/software/popwin/popwin-find-file.png)\r\n\r\nLet me show other examples.\r\n\r\n**`M-x occur`**\r\n\r\n![](http://cx4a.org/software/popwin/popwin-occur.png)\r\n\r\n**`M-x compile`**\r\n\r\n![](http://cx4a.org/software/popwin/popwin-compile.png)\r\n\r\nCustomization\r\n-------------\r\n\r\nPlease do `M-x customize-group RET popwin RET` and `M-x\r\ncustomize-variable RET popwin:special-display-config RET`. See the\r\nheader of `popwin.el`, source code, and docstrings for more\r\ninformation.\r\n\r\n### Default Keymap\r\n\r\npopwin provides a default keymap named `popwin:keymap`. You can use it\r\nlike:\r\n\r\n    (global-set-key (kbd \"C-z\") popwin:keymap)\r\n\r\nKeymap:\r\n\r\n    | Key    | Command                               |\r\n    |--------+---------------------------------------|\r\n    | b      | popwin:popup-buffer                   |\r\n    | l      | popwin:popup-last-buffer              |\r\n    | o      | popwin:display-buffer                 |\r\n    | C-b    | popwin:switch-to-last-buffer          |\r\n    | C-p    | popwin:original-pop-to-last-buffer    |\r\n    | C-o    | popwin:original-display-last-buffer   |\r\n    | SPC    | popwin:select-popup-window            |\r\n    | s      | popwin:stick-popup-window             |\r\n    | 0      | popwin:close-popup-window             |\r\n    | f, C-f | popwin:find-file                      |\r\n    | e      | popwin:messages                       |\r\n    | C-u    | popwin:universal-display              |\r\n    | 1      | popwin:one-window                     |\r\n\r\nSpecial Display Config\r\n----------------------\r\n\r\n`popwin:special-display-config` is a list of `CONFIG`. `CONFIG` may be\r\na form of `(PATTERN . KEYWORDS)`, where `PATTERN` is a pattern of\r\nspecifying a buffer, and `KEYWORDS` is a list of a pair of key and\r\nvalue. `PATTERN` is a buffer name, a symbol specifying major-mode, or\r\na predicate function which takes the buffer. If `CONFIG` is a string\r\nor a symbol, `PATTERN` will be `CONFIG` and `KEYWORDS` will be\r\nempty. Available keywords are following:\r\n\r\n`:regexp`\r\n\r\n:   If the value is non-nil, `PATTERN` will be used as regexp to matching buffer.\r\n\r\n`:width`, `:height`\r\n\r\n:   Specify width or height of the popup window. If no size specified,\r\n    `popwin:popup-window-width` or `popwin:popup-window-height` will be\r\n    used. See also position keyword.\r\n\r\n`:position`\r\n\r\n:   The value must be one of `(left top right bottom)`. The popup window\r\n    will shown at the position of the frame.  If no position specified,\r\n    `popwin:popup-window-position` will be used.\r\n\r\n`:noselect`\r\n\r\n:   If the value is non-nil, the popup window will not be selected when\r\n    it is shown.\r\n\r\n`:dedicated`\r\n\r\n:   If the value is non-nil, the popup window will be dedicated to the\r\n    original popup buffer. In this case, when another buffer is selected\r\n    in the popup window, the popup window will be closed immedicately\r\n    and the selected buffer will be shown on the previously selected\r\n    window.\r\n\r\n`:stick`\r\n\r\n:   If the value is non-nil, the popup window will be stuck when it is\r\n    shown.\r\n\r\n`:last`\r\n\r\n:   If the value is non-nil, the popup window will show the last\r\n    contents.\r\n\r\n### Examples\r\n\r\n    ;; M-x anything\r\n    (setq anything-samewindow nil)\r\n    (push '(\"*anything*\" :height 20) popwin:special-display-config)\r\n    \r\n    ;; M-x dired-jump-other-window\r\n    (push '(dired-mode :position top) popwin:special-display-config)\r\n    \r\n    ;; M-!\r\n    (push \"*Shell Command Output*\" popwin:special-display-config)\r\n    \r\n    ;; M-x compile\r\n    (push '(compilation-mode :noselect t) popwin:special-display-config)\r\n    \r\n    ;; slime\r\n    (push \"*slime-apropos*\" popwin:special-display-config)\r\n    (push \"*slime-macroexpansion*\" popwin:special-display-config)\r\n    (push \"*slime-description*\" popwin:special-display-config)\r\n    (push '(\"*slime-compilation*\" :noselect t) popwin:special-display-config)\r\n    (push \"*slime-xref*\" popwin:special-display-config)\r\n    (push '(sldb-mode :stick t) popwin:special-display-config)\r\n    (push 'slime-repl-mode popwin:special-display-config)\r\n    (push 'slime-connection-list-mode popwin:special-display-config)\r\n    \r\n    ;; vc\r\n    (push \"*vc-diff*\" popwin:special-display-config)\r\n    (push \"*vc-change-log*\" popwin:special-display-config)\r\n    \r\n    ;; undo-tree\r\n    (push '(\" *undo-tree*\" :width 0.3 :position right) popwin:special-display-config)\r\n\r\nUniversal Display Config\r\n------------------------\r\n\r\n`popwin:universal-display-config` is a special alternative value of\r\n`popwin:special-display-config`, which will be used when executing a\r\ncommand with `M-x popwin:universal-display` prefix. If you want to\r\nshow a specific buffer in a popup window at the time, for example, you\r\ncan do it with `M-x popwin:universal-display RET C-x 4 C-o BUFNAME\r\nRET`.\r\n\r\nThe default value is `(t)`, meaning all of buffers with `M-x\r\npopwin:universal-display` prefix will be shown in a popup window.\r\n\r\nWorking with Other Extensions\r\n-----------------------------\r\n\r\nSome extensions needs workaround for working with popwin.\r\n\r\n#### YaTeX\r\n\r\n`misc/popwin-yatex.el` helps you to show YaTeX related buffers in a\r\npopup window. Add the following code into `.emacs`.\r\n\r\n    (require 'popwin-yatex)\r\n\r\nYou may write a configuration like:\r\n\r\n    (push '(\"*YaTeX-typesetting*\") popwin:special-display-config)\r\n\r\n#### w3m\r\n\r\n`misc/popwin-w3m.el` helps you to show specific pages with w3m in a\r\npopup window. Add the following code into `.emacs`.\r\n\r\n    (require 'popwin-w3m)\r\n\r\nIt is recommended to change `browse-url-browser-function` to\r\n`popwin:w3m-browse-url`.\r\n\r\n    (setq browse-url-browser-function 'popwin:w3m-browse-url)\r\n\r\n`popwin:w3m-browse-url` is a function (and a command) displaying w3m\r\nbuffers in a popup window if the given URL is matched with the rules.\r\n\r\nThe rules are described by `popwin:w3m-special-display-config`\r\nvariable, which has almost same structure of\r\n`popwin:special-display-config`.\r\n\r\nThe difference is `popwin:w3m-special-display-config` takes an URL\r\nregular expression instead of a buffer pattern.\r\n\r\nFor example, if you want to show google search pages in a popup\r\nwindow, a configuration could be:\r\n\r\n    (push '(\"^http://www\\\\.google\\\\.com/.*$\") popwin:w3m-special-display-config)\r\n\r\n#### `term.el`\r\n\r\n`misc/popwin-term.el` helps you to show term buffers in a popup\r\nwindow. Add the following code into `.emacs`.\r\n\r\n    (require 'popwin-term)\r\n\r\nThen write a configuration like:\r\n\r\n    (push '(term-mode :position :top :height 16 :stick t) popwin:special-display-config)\r\n\r\nNow, you can show a term buffer in a popup window with `M-x\r\npopwin-term:term`.\r\n\r\n#### `browse-kill-ring.el`\r\n\r\n`misc/browse-kill-ring.el` helps you to show `*Kill Ring*` buffer in a\r\npopup window. Add the following code into `.emacs`.\r\n\r\n    (require 'popwin-browse-kill-ring)\r\n\r\nThen write a configuration like:\r\n\r\n    (push \"*Kill Ring*\" popwin:special-display-config)\r\n\r\n`M-x browse-kill-ring` now shows `*Kill Ring*` buffer in a popup\r\nwindow.\r\n\r\n#### `windows.el`\r\n\r\nDo not load `windows.el` after loading `popwin.el`. Load `windows.el`\r\nfirst.\r\n\r\nBasic Commands\r\n--------------\r\n\r\n### Command: `popwin:popup-buffer`\r\n\r\nFocely show the specified buffer in a popup\r\nwindow. `popwin:special-display-config` will be ignored.\r\n\r\n### Command: `popwin:display-buffer`\r\n\r\nShow the specified buffer in a popup window if possible, meaning there\r\nis at least one matched configuration in\r\n`popwin:special-display-config`. Otherwise, fallback to\r\n`display-buffer`.\r\n\r\n### Command: `popwin:display-last-buffer`\r\n\r\nShow the lastly shown buffer in a popup window.\r\n\r\n### Command: `popwin:pop-to-buffer`\r\n\r\nSame as `popwin:display-buffer`, but behaves like `pop-to-buffer`.\r\n\r\n### Command: `popwin:one-window`\r\n\r\nSame like `C-x 1` except that `C-g` restore the original window\r\nconfiguration. This is useful when you see the contents of the popup\r\nwindow in full window temporarily.\r\n\r\n### Command: `popup:find-file`\r\n\r\n`find-file` in a popup window.\r\n\r\n### Command: `popwin:messages`\r\n\r\nShow `*Messages*` buffer in a popup window.\r\n\r\nBasic API\r\n---------\r\n\r\n### Function: `popwin:create-popup-window`\r\n\r\n    popwin:create-popup-window &optional size position adjust => (master-window popup-window)\r\n\r\n`popwin:create-popup-window` creates a popup window and return it with\r\na master window. Master window is a window which is splitted when\r\ncreating the popup window. A resposibility of closing the popup window\r\nis on developers.\r\n\r\n----\r\n\r\nCopyright (C) 2011, 2012  Tomohiro Matsuyama <<tomo@cx4a.org>>\r\n","google":"UA-34417123-2"}